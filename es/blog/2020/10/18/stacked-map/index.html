<!DOCTYPE html><html lang="es-es" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Iván Mauricio Cely Toro">

  
  
  
    
  
  <meta name="description" content="Breve tutorial para crear un mapa apilado">

  
  <link rel="alternate" hreflang="es-es" href="https://MauricioCely.github.io/es/blog/2020/10/18/stacked-map/">

  


  
  
  
  <meta name="theme-color" content="#284b63">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
    
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
    
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  





<script async src="https://www.googletagmanager.com/gtag/js?id=UA-173461490-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'UA-173461490-1', {});

  
  document.addEventListener('click', onClickCallback, false);
</script>


  


  
  

  

  <link rel="manifest" href="/es/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu028d12a5677323d314b5a5abc52e9454_58229_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu028d12a5677323d314b5a5abc52e9454_58229_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="https://MauricioCely.github.io/es/blog/2020/10/18/stacked-map/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@Mauricio_Cely">
  <meta property="twitter:creator" content="@Mauricio_Cely">
  
  <meta property="og:site_name" content="World %&gt;% science::discover">
  <meta property="og:url" content="https://MauricioCely.github.io/es/blog/2020/10/18/stacked-map/">
  <meta property="og:title" content="Mapa apilado en ggplot | World %&gt;% science::discover">
  <meta property="og:description" content="Breve tutorial para crear un mapa apilado"><meta property="og:image" content="https://MauricioCely.github.io/es/blog/2020/10/18/stacked-map/featured.jpg">
  <meta property="twitter:image" content="https://MauricioCely.github.io/es/blog/2020/10/18/stacked-map/featured.jpg"><meta property="og:locale" content="es-es">
  
    
      <meta property="article:published_time" content="2020-10-18T16:38:36-03:00">
    
    <meta property="article:modified_time" content="2020-10-18T16:38:36-03:00">
  

  



  


  


  





  <title>Mapa apilado en ggplot | World %&gt;% science::discover</title>

</head>
<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Buscar</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Buscar..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  






  


<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/es/"><img src="/images/logo_hua1cb3e81bca4a7c0f10bff582dbe7971_18064_0x70_resize_lanczos_2.png" style="display:inline;" alt="World %&gt;% science::discover"> <span style='padding-left: 10px;' >World %&gt;% science::discover</span></a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Barra de navegación">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/es/"><img src="/images/logo_hua1cb3e81bca4a7c0f10bff582dbe7971_18064_0x70_resize_lanczos_2.png" alt="World %&gt;% science::discover"></a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/es/#hero"><span>Inicio</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/es/blog/"><span>Blog</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/es/#projects"><span>Proyectos</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/es/#gallery"><span>Galería</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/es/#about"><span>Acerca</span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="https://github.com/mauriciocely" target="_blank" rel="noopener"><span><i style='font-size: 18px;' class='fab fa-github'></i></span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="https://twitter.com/Mauricio_Cely" target="_blank" rel="noopener"><span><i style='font-size: 18px;' class='fab fa-twitter'></i></span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      

      

    </ul>

  </div>
</nav>


  <article class="article">

  




















  
  
    
  


<div class="article-container pt-3">
  <h1>Mapa apilado en ggplot</h1>

  

  


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
    Oct 18, 2020
  </span>
  

  

  

  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/es/category/maths/">Maths</a>, <a href="/es/category/r/">R</a></span>
  

</div>

  













<div class="btn-links mb-3">
  
  








  


















  
  
  
    
  
  
  
  
  
    
  
  <a class="btn btn-outline-primary my-1 mr-1" href="https://twitter.com/Mauricio_Cely" target="_blank" rel="noopener">
    <i class="fab fa-twitter mr-1"></i>
    Seguir
  </a>


</div>


</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 720px; max-height: 655px;">
  <div style="position: relative">
    <img src="/es/blog/2020/10/18/stacked-map/featured_hu467ac20e65a01ce16cdde347a7f64763_259415_720x0_resize_q100_lanczos.jpg" alt="Breve tutorial para crear un mapa apilado." class="featured-image">
    
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      
<script src="index_files/accessible-code-block/empty-anchor.js"></script>
<script src="index_files/kePrint/kePrint.js"></script>
<link href="index_files/lightable/lightable.css" rel="stylesheet" />
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<div id="TOC">
<ul>
<li><a href="#introducción">Introducción</a><ul>
<li><a href="#header-2">Header 2</a></li>
</ul></li>
</ul>
</div>

<div id="introducción" class="section level1">
<h1>Introducción</h1>
<p>En este post se muestra como deformar y apilar mapas para dar la impresión de mapas superpuestos en diferentes capas usando <code>ggplot</code>. Este código esta basado en el <a href="https://gist.github.com/rafapereirabr/97a7c92d40f91cd20a10e8e0165a0aef"><em>gist</em></a> publicado por Rafael Pereira. ¡Gracias Rafa!</p>
<p>Las librerías necesarias para reproducir el ejemplo son:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(tidyverse) <span class="co"># Easily Install and Load the &#39;Tidyverse&#39;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(ggnewscale) <span class="co"># Multiple Fill and Colour Scales in &#39;ggplot2&#39;</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(gganimate) <span class="co"># A Grammar of Animated Graphics</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw">library</span>(hrbrthemes) <span class="co"># Additional Themes, Theme Components and Utilities for &#39;ggplot2&#39;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="kw">library</span>(rgdal) <span class="co"># Bindings for the &#39;Geospatial&#39; Data Abstraction Library</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="kw">library</span>(pals) <span class="co"># Color Palettes, Colormaps, and Tools to Evaluate Them</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="kw">library</span>(transformr) <span class="co"># Polygon and Path Transformations</span></span></code></pre></div>
<p>Los datos empleados en para este ejemplo los puedes <a href="files/datos.csv"><strong>descargar</strong></a> aquí. Los datos fueron extraídos del sitio web del ministerio de Salud y Protección Social de la República de Colombia <a href="https://www.minsalud.gov.co/salud/publica/PET/Paginas/Covid-19_copia.aspx"></a>, se reporta el número de casos de pacientes fallecidos, activos y recuperados por género que contrayeron COVID-19 para cada departamento hasta el día 10-10-2020.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Translation to center of coordinate system ------------------------------</span></span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>mapa.covid &lt;-</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="st">  </span><span class="kw">read_csv</span>(<span class="st">&quot;files/datos.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>id)</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a>mapa.covid <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="st">  </span><span class="kw">kable</span>(<span class="dt">align =</span> <span class="st">&quot;c&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="st">  </span><span class="kw">kable_styling</span>(<span class="st">&quot;striped&quot;</span>, <span class="dt">full_width =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
long
</th>
<th style="text-align:center;">
lat
</th>
<th style="text-align:center;">
group
</th>
<th style="text-align:center;">
Cod.Dep
</th>
<th style="text-align:center;">
Departamento
</th>
<th style="text-align:center;">
Tipo
</th>
<th style="text-align:center;">
F
</th>
<th style="text-align:center;">
M
</th>
<th style="text-align:center;">
Casos
</th>
<th style="text-align:center;">
rango
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
-76.95417
</td>
<td style="text-align:center;">
8.185339
</td>
<td style="text-align:center;">
0.1
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
Antioquia
</td>
<td style="text-align:center;">
Activo
</td>
<td style="text-align:center;">
8792
</td>
<td style="text-align:center;">
8382
</td>
<td style="text-align:center;">
17174
</td>
<td style="text-align:center;">
16000 - 18000
</td>
</tr>
<tr>
<td style="text-align:center;">
-76.95417
</td>
<td style="text-align:center;">
8.185339
</td>
<td style="text-align:center;">
0.1
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
Antioquia
</td>
<td style="text-align:center;">
Recuperado
</td>
<td style="text-align:center;">
56817
</td>
<td style="text-align:center;">
57650
</td>
<td style="text-align:center;">
114467
</td>
<td style="text-align:center;">
1e+05 - 120000
</td>
</tr>
<tr>
<td style="text-align:center;">
-76.95417
</td>
<td style="text-align:center;">
8.185339
</td>
<td style="text-align:center;">
0.1
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
Antioquia
</td>
<td style="text-align:center;">
Fallecido
</td>
<td style="text-align:center;">
1046
</td>
<td style="text-align:center;">
1655
</td>
<td style="text-align:center;">
2701
</td>
<td style="text-align:center;">
2000 - 3000
</td>
</tr>
<tr>
<td style="text-align:center;">
-76.93473
</td>
<td style="text-align:center;">
8.188839
</td>
<td style="text-align:center;">
0.1
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
Antioquia
</td>
<td style="text-align:center;">
Activo
</td>
<td style="text-align:center;">
8792
</td>
<td style="text-align:center;">
8382
</td>
<td style="text-align:center;">
17174
</td>
<td style="text-align:center;">
16000 - 18000
</td>
</tr>
<tr>
<td style="text-align:center;">
-76.93473
</td>
<td style="text-align:center;">
8.188839
</td>
<td style="text-align:center;">
0.1
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
Antioquia
</td>
<td style="text-align:center;">
Recuperado
</td>
<td style="text-align:center;">
56817
</td>
<td style="text-align:center;">
57650
</td>
<td style="text-align:center;">
114467
</td>
<td style="text-align:center;">
1e+05 - 120000
</td>
</tr>
<tr>
<td style="text-align:center;">
-76.93473
</td>
<td style="text-align:center;">
8.188839
</td>
<td style="text-align:center;">
0.1
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
Antioquia
</td>
<td style="text-align:center;">
Fallecido
</td>
<td style="text-align:center;">
1046
</td>
<td style="text-align:center;">
1655
</td>
<td style="text-align:center;">
2701
</td>
<td style="text-align:center;">
2000 - 3000
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>mapa.covid &lt;-</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="st">  </span>mapa.covid <span class="op">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">long =</span> long <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(long),</span>
<span id="cb3-4"><a href="#cb3-4"></a>         <span class="dt">lat =</span> lat <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(lat))</span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co"># Shear effect and Rotation Matrix ------------------------------</span></span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co"># Shear Matrix</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>shear_matrix &lt;-<span class="st"> </span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="st">  </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="fl">0.7</span>,<span class="fl">0.5</span>),<span class="dv">2</span>,<span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span>t</span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co"># Rotation matrix</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>rotation_matrix &lt;-<span class="st"> </span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="st">  </span><span class="cf">function</span>(theta){</span>
<span id="cb3-15"><a href="#cb3-15"></a>    <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="kw">cos</span>(theta<span class="op">*</span>pi<span class="op">/</span><span class="dv">180</span>), <span class="op">-</span><span class="kw">sin</span>(theta<span class="op">*</span>pi<span class="op">/</span><span class="dv">180</span>),</span>
<span id="cb3-16"><a href="#cb3-16"></a>             <span class="kw">sin</span>(theta<span class="op">*</span>pi<span class="op">/</span><span class="dv">180</span>), <span class="kw">cos</span>(theta<span class="op">*</span>pi<span class="op">/</span><span class="dv">180</span>)),</span>
<span id="cb3-17"><a href="#cb3-17"></a>           <span class="dt">nrow =</span> <span class="dv">2</span>, <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> T) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="st">      </span><span class="kw">round</span>(<span class="dt">digits =</span> <span class="dv">2</span>)</span>
<span id="cb3-19"><a href="#cb3-19"></a>  }</span></code></pre></div>
<div id="header-2" class="section level2">
<h2>Header 2</h2>
<div id="header-3" class="section level3">
<h3>Header 3</h3>
<div id="header-4" class="section level4">
<h4>Header 4</h4>
<div id="header-5" class="section level5">
<h5>Header 5</h5>
<div id="header-6" class="section level6">
<h6>Header 6</h6>
</div>
</div>
</div>
</div>
</div>
</div>

    </div>

    






<div class="article-tags">
  
  <a class="badge badge-light" href="/es/tag/dataviz/">dataviz</a>
  
  <a class="badge badge-light" href="/es/tag/rstats/">rstats</a>
  
  <a class="badge badge-light" href="/es/tag/tutorial/">tutorial</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://MauricioCely.github.io/es/blog/2020/10/18/stacked-map/&amp;text=Mapa%20apilado%20en%20ggplot" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://MauricioCely.github.io/es/blog/2020/10/18/stacked-map/&amp;t=Mapa%20apilado%20en%20ggplot" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Mapa%20apilado%20en%20ggplot&amp;body=https://MauricioCely.github.io/es/blog/2020/10/18/stacked-map/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=Mapa%20apilado%20en%20ggplot%20https://MauricioCely.github.io/es/blog/2020/10/18/stacked-map/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
  </ul>
</div>












  
  





  
    
    
    
      
    
    
    
    <div class="media author-card content-widget-hr">
      
        
        <img class="avatar mr-3 avatar-circle" src="/es/author/ivan-mauricio-cely-toro/avatar_hu33d8f2710ea4928d295bd08cdc05f6eb_262109_270x270_fill_q100_lanczos_center.jpg" alt="Iván Mauricio Cely Toro">
      

      <div class="media-body">
        <h5 class="card-title"><a href="https://MauricioCely.github.io/">Iván Mauricio Cely Toro</a></h5>
        <h6 class="card-subtitle">Estudiante de doctorado en Física :flag-br:</h6>
        <p class="card-text">100% colombiano :flag-co:. Apasionado por la Ciencia y su enseñanza. En aprendizaje continuo de <strong>R</strong>.</p>
        <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/es/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?view_op=list_works&amp;hl=es&amp;user=zeb9d8AAAAAJ" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.researchgate.net/profile/Ivan_Cely_Toro" target="_blank" rel="noopener">
        <i class="fab fa-researchgate"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://orcid.org/0000-0003-2008-681X" target="_blank" rel="noopener">
        <i class="fab fa-orcid"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/MauricioCely" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://medium.com/@mauriciocelytoro" target="_blank" rel="noopener">
        <i class="fab fa-medium"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/Mauricio_Cely" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="/es/doc/cv/cv.pdf" >
        <i class="ai ai-cv"></i>
      </a>
    </li>
  
</ul>

      </div>
    </div>
  
















  </div>
</article>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.8/mermaid.min.js" integrity="sha256-lyWCDMnMeZiXRi7Zl54sZGKYmgQs4izcT7+tKc+KUBk=" crossorigin="anonymous" title="mermaid"></script>
      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
      

    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/es/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No se encontraron resultados","placeholder":"Buscar...","results":"resultados encontrados"};
      const content_type = {
        'post': "Posts",
        'project': "Proyectos",
        'publication' : "Publicaciones",
        'talk' : "Charlas",
        'slides' : "Diapositivas"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.66c553246b0f279a03be6e5597f72b52.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
     Iván Mauricio Cely Toro - 2021
  </p>

  
  





  
  
  
  

  
  
    
  
  
    
  

  

  
  <p class="powered-by copyright-license-text">
    Todo el material en esta página cuando no se indique lo contrario es <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" rel="noopener noreferrer" target="_blank">CC BY NC ND 4.0</a>.
  </p>
  

  <p class="powered-by footer-license-icons">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" rel="noopener noreferrer" target="_blank">
      <img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg" alt="CC icon">
      <img src="https://mirrors.creativecommons.org/presskit/icons/by.svg" alt="CC by icon">
      
        <img src="https://mirrors.creativecommons.org/presskit/icons/nc.svg" alt="CC NC icon">
      
      
        <img src="https://mirrors.creativecommons.org/presskit/icons/nd.svg" alt="CC ND icon">
      
    </a>
  </p>




  <p class="powered-by">
    Made with the Magic of <a href="https://rstudio.com/" target="_blank" rel="noopener"><i style ="color:#5595ff; font-size: 20px;" class="fab fa-r-project"></i></a> <a href="https://github.com/rstudio/blogdown" target="_blank" rel="noopener">blogdown</a>
    and powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.
    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Citar</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copiar
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Descargar
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
